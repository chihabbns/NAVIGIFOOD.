<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Manage your NavigiFood listings, orders, and sales from your seller dashboard." />
    <title>Dashboard - NavigiFood</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">
                <span class="logo-icon">
            <i class="fas fa-utensil-spoon"></i>
            <i class="fas fa-utensil-fork"></i>
          </span>
          <span class="logo-text">Navigi<span>Food</span></span>
            </a>
            <div class="mobile-toggle" id="mobile-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <ul class="nav-links" id="nav-links">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <li><a href="browse-food.html" class="nav-link">Browse Food</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
                <li><a href="add-food.html" class="btn btn-primary btn-small">Donate Food</a></li>
          </ul>
        </div>
    </nav>

    <div class="section">
        <div class="container">
            <div class="grid grid-sidebar gap-40 align-start">
                
                <!-- Sidebar -->
                <aside class="sidebar bg-white p-20 rounded-md shadow-sm">
                    <div class="text-center pb-20 border-bottom mb-20">
                        <div class="bg-primary text-white d-flex align-center justify-center rounded-circle m-auto mb-15" style="width: 80px; height: 80px; font-size: 2rem;">
                            <i id="user-avatar-icon" class="fas fa-user"></i>
                        </div>
                        <h3 id="user-name">Loading...</h3>
                        <p id="user-role" class="text-gray">User</p>
                    </div>
                    <ul class="list-none">
                        <li class="mb-15">
                            <a href="#" class="nav-link-item active d-flex align-center gap-10" onclick="showTab('overview')"><i class="fas fa-th-large" style="width: 20px;"></i> Dashboard</a>
                        </li>
                        
                        <!-- Provider Links -->
                        <li class="mb-15 role-link provider-link">
                            <a href="#" class="nav-link-item d-flex align-center gap-10" onclick="showTab('add-dish')"><i class="fas fa-plus-circle" style="width: 20px;"></i> Add Food</a>
                        </li>
                        <li class="mb-15 role-link provider-link">
                            <a href="#" class="nav-link-item d-flex align-center gap-10" onclick="showTab('manage-orders')"><i class="fas fa-receipt" style="width: 20px;"></i> Manage Orders</a>
                        </li>

                        <!-- Seeker Links -->
                        <li class="mb-15 role-link seeker-link" style="display: none;">
                            <a href="#" class="nav-link-item d-flex align-center gap-10" onclick="showTab('my-requests')"><i class="fas fa-shopping-basket" style="width: 20px;"></i> My Requests</a>
                        </li>

                        <!-- Common Links -->
                         <li class="mb-15">
                            <a href="#" class="nav-link-item d-flex align-center gap-10" onclick="showTab('profile')"><i class="fas fa-user-circle" style="width: 20px;"></i> Profile</a>
                        </li>

                        <li class="mt-30">
                            <a href="#" class="text-danger d-flex align-center gap-10" onclick="logout(event)"><i class="fas fa-sign-out-alt" style="width: 20px;"></i> Logout</a>
                        </li>
                    </ul>
                </aside>

                <!-- Dashboard Content -->
                <div>
                    
                    <!-- Overview Tab -->
                    <div id="overview" class="dashboard-tab active">
                        <h1 class="mb-30">Dashboard Overview</h1>
                        
                        <!-- Notifications Area -->
                        <div id="dashboard-notifications" class="mb-30">
                            <!-- Injected by JS -->
                        </div>

                        <!-- Provider Stats (Default) -->
                        <div id="provider-stats" class="grid grid-fit-200 mb-40 role-content provider-content">
                             <div class="card card-body text-center">
                                <h2 class="text-primary">8</h2>
                                <p>Active Dishes</p>
                             </div>
                             <div class="card card-body text-center">
                                <h2 class="text-primary">3</h2>
                                <p>Pending Orders</p>
                             </div>
                             <div class="card card-body text-center">
                                <h2 class="text-primary">12,500 DA</h2>
                                <p>Total Revenue</p>
                             </div>
                        </div>

                        <!-- Seeker Stats -->
                        <div id="seeker-stats" class="grid grid-fit-200 mb-40 role-content seeker-content" style="display: none;">
                            <div class="card card-body text-center">
                               <h2 class="text-primary">5</h2>
                               <p>Meals Rescued</p>
                            </div>
                            <div class="card card-body text-center">
                               <h2 class="text-success">2,400 DA</h2>
                               <p>Money Saved</p>
                            </div>
                            <div class="card card-body text-center">
                               <h2 class="text-warning">1</h2>
                               <p>Pending Requests</p>
                            </div>
                       </div>

                        <!-- Recent Listings (Provider) -->
                        <div class="card role-content provider-content">
                            <div class="card-body">
                                <h3 class="mb-20">Your Active Listings</h3>
                                <table class="w-100 border-collapse">
                                    <thead>
                                        <tr class="text-left border-bottom">
                                            <th class="p-10">Dish</th>
                                            <th class="p-10">Status</th>
                                            <th class="p-10">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="listings-table">
                                        <!-- Populated via JS -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Recent Requests (Seeker) -->
                         <div class="card role-content seeker-content" style="display: none;">
                            <div class="card-body">
                                <h3 class="mb-20">Recent Requests</h3>
                                <div id="overview-requests-list">
                                    <!-- Populated via JS -->
                                </div>
                                <div class="mt-20">
                                    <button onclick="showTab('my-requests')" class="btn btn-outline btn-small">View All History</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Add Dish Tab -->
                    <div id="add-dish" class="dashboard-tab" style="display: none;">
                        <h1 class="mb-30">Add New Dish</h1>
                        <div class="card card-body">
                            <form id="add-dish-form">
                                <div class="form-group">
                                    <label class="form-label">Dish Name</label>
                                    <input type="text" id="dish-name" class="form-control" placeholder="e.g. Mhajeb Box" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Description (Darja recommended)</label>
                                    <textarea id="dish-desc" class="form-control" rows="3" placeholder="Describe the dish..." required></textarea>
                                </div>
                                <div class="grid grid-fit-250">
                                    <div class="form-group">
                                        <label class="form-label">Original Price (DA)</label>
                                        <input type="number" id="dish-original-price" class="form-control" placeholder="1000" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Selling Price (DA)</label>
                                        <input type="number" id="dish-price" class="form-control" placeholder="500" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Upload Image URL</label>
                                    <input type="url" id="dish-image" class="form-control" placeholder="https://example.com/image.jpg">
                                </div>
                                
                                <div class="grid grid-fit-250 gap-20 mt-30">
                                    <button type="button" onclick="handlePublishFree()" class="btn btn-outline w-100">
                                        Publish (Free)
                                    </button>
                                    
                                    <button type="button" onclick="handlePublishBoost()" class="btn btn-primary w-100 d-flex align-center justify-center gap-10" style="background: linear-gradient(45deg, #FFD700, #FFA500); color: black; border: none;">
                                        <i class="fas fa-rocket"></i> Publish & Boost (200 DA)
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Manage Orders Tab -->
                    <div id="manage-orders" class="dashboard-tab" style="display: none;">
                        <h1 class="mb-30">Manage Orders</h1>
                        <div id="orders-list">
                            <!-- Populated via JS -->
                        </div>
                    </div>

                    <!-- My Requests Tab (Seeker) -->
                    <div id="my-requests" class="dashboard-tab" style="display: none;">
                        <h1 class="mb-30">My Food Requests</h1>
                        <div class="card card-body mb-20">
                            <div class="d-flex justify-between align-center mb-10">
                                <h3>Active Requests</h3>
                            </div>
                            <div id="my-requests-list">
                                <!-- Populated via JS -->
                            </div>
                        </div>
                    </div>

                    <!-- Profile Tab -->
                    <div id="profile" class="dashboard-tab" style="display: none;">
                        <h1 class="mb-30">My Profile</h1>
                        <div class="card card-body" style="max-width: 600px;">
                            <form onsubmit="event.preventDefault(); alert('Profile updated!');">
                                <div class="form-group">
                                    <label class="form-label">Full Name</label>
                                    <input type="text" id="profile-name" class="form-control" value="User Name">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Email</label>
                                    <input type="email" id="profile-email" class="form-control" value="user@example.com" disabled>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Phone</label>
                                    <input type="tel" class="form-control" placeholder="+213...">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Address</label>
                                    <input type="text" class="form-control" placeholder="Your location...">
                                </div>
                                <button class="btn btn-primary">Save Changes</button>
                            </form>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal" onclick="closePaymentModal()">&times;</span>
            <h2 style="margin-bottom: 20px;">Boost Payment</h2>
            <p style="margin-bottom: 30px;">Confirm your payment of <strong>200 DA</strong> to boost this listing.</p>
            
            <div style="padding: 20px; background: #f8f9fa; border-radius: 8px; margin-bottom: 20px; text-align: center;">
                <i class="fas fa-credit-card" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                <p>Secure Payment Gateway</p>
            </div>

            <button onclick="processPayment()" class="btn btn-primary" style="width: 100%; margin-top: 20px;">Confirm Payment</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="copyright">
                <p>&copy; 2026 NavigiFood. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
